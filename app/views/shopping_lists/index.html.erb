<div class="shopping_lists_container">
    <h2 class="text-center">
     Shopping List
    </h2>

    <div class="d-flex flex-row ">
       <div class="flex-grow-1">
           <h4>
                The amount of food items to buy:
           </h4>
           <p>
                <%= @ingredients.length %>
           </p>
       </div>
       <div class="flex-grow-1">
            <h4>
                The total value of food needed:
           </h4>
           <p>
                $<%= @total_price %>
           </p>
       </div>
    </div>
</div>

<div class="shopping_lists_table_container">
    <table class="table table-bordered table-striped" >
        <thead>
        <tr class="text-center">
            <th>Food</th>
            <th>Quantity</th>
            <th>Price</th>
        </tr>
        </thead>
        <tbody class="text-center">
        <% @ingredients.each do |food, ingredients| %>
        <tr>
            <td><%= food %></td>
            <td>
                <% total_quantity = ingredients.map(&:quantity).sum %>
                <span><%= total_quantity %> <%= ingredients.first.food.measurement_unit %></span>
            </td>
            <td>
                <% total_price = ingredients.map { |ingredient| ingredient.quantity * ingredient.food.price }.sum %>
                $<%= total_price %>
            </td>
        </tr>
        <% end %>
        </tbody>
    </table>
</div>
<%# <%= render partial: "shared/logout"%>